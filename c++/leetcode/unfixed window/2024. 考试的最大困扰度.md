# [2024. è€ƒè¯•çš„æœ€å¤§å›°æ‰°åº¦](https://leetcode.cn/problems/maximize-the-confusion-of-an-exam/description/)
```
ä¸€ä½è€å¸ˆæ­£åœ¨å‡ºä¸€åœºç”± n é“åˆ¤æ–­é¢˜æ„æˆçš„è€ƒè¯•ï¼Œæ¯é“é¢˜çš„ç­”æ¡ˆä¸º true ï¼ˆç”¨ 'T' è¡¨ç¤ºï¼‰æˆ–è€… false ï¼ˆç”¨ 'F' è¡¨ç¤ºï¼‰ã€‚è€å¸ˆæƒ³å¢åŠ å­¦ç”Ÿå¯¹è‡ªå·±åšå‡ºç­”æ¡ˆçš„ä¸ç¡®å®šæ€§ï¼Œæ–¹æ³•æ˜¯ æœ€å¤§åŒ– æœ‰ è¿ç»­ç›¸åŒ ç»“æœçš„é¢˜æ•°ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¿ç»­å‡ºç° true æˆ–è€…è¿ç»­å‡ºç° falseï¼‰ã€‚

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² answerKey ï¼Œå…¶ä¸­ answerKey[i] æ˜¯ç¬¬ i ä¸ªé—®é¢˜çš„æ­£ç¡®ç»“æœã€‚é™¤æ­¤ä»¥å¤–ï¼Œè¿˜ç»™ä½ ä¸€ä¸ªæ•´æ•° k ï¼Œè¡¨ç¤ºä½ èƒ½è¿›è¡Œä»¥ä¸‹æ“ä½œçš„æœ€å¤šæ¬¡æ•°ï¼š

æ¯æ¬¡æ“ä½œä¸­ï¼Œå°†é—®é¢˜çš„æ­£ç¡®ç­”æ¡ˆæ”¹ä¸º 'T' æˆ–è€… 'F' ï¼ˆä¹Ÿå°±æ˜¯å°† answerKey[i] æ”¹ä¸º 'T' æˆ–è€… 'F' ï¼‰ã€‚
è¯·ä½ è¿”å›åœ¨ä¸è¶…è¿‡ k æ¬¡æ“ä½œçš„æƒ…å†µä¸‹ï¼Œæœ€å¤§ è¿ç»­ 'T' æˆ–è€… 'F' çš„æ•°ç›®ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šanswerKey = "TTFF", k = 2
è¾“å‡ºï¼š4
è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥å°†ä¸¤ä¸ª 'F' éƒ½å˜ä¸º 'T' ï¼Œå¾—åˆ° answerKey = "TTTT" ã€‚
æ€»å…±æœ‰å››ä¸ªè¿ç»­çš„ 'T' ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šanswerKey = "TFFT", k = 1
è¾“å‡ºï¼š3
è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥å°†æœ€å‰é¢çš„ 'T' æ¢æˆ 'F' ï¼Œå¾—åˆ° answerKey = "FFFT" ã€‚
æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç¬¬äºŒä¸ª 'T' æ¢æˆ 'F' ï¼Œå¾—åˆ° answerKey = "TFFF" ã€‚
ä¸¤ç§æƒ…å†µä¸‹ï¼Œéƒ½æœ‰ä¸‰ä¸ªè¿ç»­çš„ 'F' ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šanswerKey = "TTFTTFTT", k = 1
è¾“å‡ºï¼š5
è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥å°†ç¬¬ä¸€ä¸ª 'F' æ¢æˆ 'T' ï¼Œå¾—åˆ° answerKey = "TTTTTFTT" ã€‚
æˆ–è€…æˆ‘ä»¬å¯ä»¥å°†ç¬¬äºŒä¸ª 'F' æ¢æˆ 'T' ï¼Œå¾—åˆ° answerKey = "TTFTTTTT" ã€‚
ä¸¤ç§æƒ…å†µä¸‹ï¼Œéƒ½æœ‰äº”ä¸ªè¿ç»­çš„ 'T' ã€‚
 

æç¤ºï¼š

n == answerKey.length
1 <= n <= 5 * 104
answerKey[i] è¦ä¹ˆæ˜¯ 'T' ï¼Œè¦ä¹ˆæ˜¯ 'F'
1 <= k <= n
```

è¿™é“é¢˜ï¼Œä¸æ˜¯æ‰¾ T çš„æœ€å¤§å­—ä¸²é•¿åº¦ï¼Œå°±æ˜¯æ‰¾ F çš„æœ€å¤§å­—ä¸²é•¿åº¦ã€‚æ‰€ä»¥æˆ‘çš„æ€è·¯æ˜¯ï¼šæ‰¾ T çš„æœ€å¤§å­—ä¸²é•¿åº¦ maxT ï¼Œæ‰¾ F çš„æœ€å¤§å­—ä¸²é•¿åº¦ maxF ï¼Œç„¶åè¿”å›æœ€å¤§å€¼ã€‚ä»¥ä¸‹æ˜¯æˆ‘çš„ä»£ç ï¼š

```cpp
class Solution {
private:
    int getmaxF(string answerKey,int k){
        int maxF=0;
        int leftF=0;
        int numF=0;
        int numT=0;
        for(int rightF=0;rightF<answerKey.size();rightF++){
            if(answerKey[rightF]=='F')
                numF++;
            else 
                numT++;
            while(numT>k){
                if(answerKey[leftF]=='T')
                    numT--;
                leftF++;
            }
            maxF=max(maxF,rightF-leftF+1);
        }
        return maxF;
    }
    int getmaxT(string answerKey,int k){
        int maxT=0;
        int leftT=0;
        int numF=0;
        int numT=0;
        for(int rightT=0;rightT<answerKey.size();rightT++){
            if(answerKey[rightT]=='F')
                numF++;
            else 
                numT++;
            while(numF>k){
                if(answerKey[leftT]=='F')
                    numF--;
                leftT++;
            }
            maxT=max(maxT,rightT-leftT+1);
        }
        return maxT;
    }
public:
    int maxConsecutiveAnswers(string answerKey, int k) {
        int fnum=getmaxF(answerKey,k);
        int tnum=getmaxT(answerKey,k);
        return max(fnum,tnum);
    }
};
```
æˆ‘çš„ä»£ç ä¹Ÿæ˜¯éå¸¸ç®€å•æ˜“æ‡‚å¥½å§ï¼ğŸ’©

çœ‹äº†çµç¥çš„é¢˜è§£åï¼Œä¸ç”¨æ‰¾ maxF å’Œ maxT ï¼Œåªè¦ F å’Œ T çš„æ¬¡æ•°ä¸åŒæ—¶è¶…è¿‡ k å°±å¯ä»¥äº†ï¼Œçµç¥çš„[é¢˜è§£](https://leetcode.cn/problems/maximize-the-confusion-of-an-exam/solutions/1028668/zhi-jie-zhao-ban-1004-de-dai-ma-by-endle-42x3)

ä»£ç å¦‚ä¸‹ï¼š
```cpp
class Solution {
public:
    int maxConsecutiveAnswers(string answerKey, int k) {
        int ans=0;
        int cnt[2]{};
        int left=0;
        for(int right=0;right<answerKey.size();right++){
            cnt[answerKey[right] >> 1 & 1]++;
            while(cnt[0]>k && cnt[1]>k){
                cnt[answerKey[left] >> 1 & 1]--;
                left++;
            }
            ans=max(ans,right-left+1);
        }
        return ans;
    }
};
```
è¿™é‡Œ str[i] >> 1 & 1 çš„æ„æ€æ˜¯ï¼Œ i çš„ ASCII å€¼çš„å€’æ•°ç¬¬äºŒä½ä¸ 1 ç›¸ä¸ã€‚

å› ä¸º T çš„ ASCII å€¼ä¸º 80 ï¼ŒäºŒè¿›åˆ¶ä¸ºï¼š 1010100 ï¼Œå€’æ•°ç¬¬äºŒä½æ˜¯ 0 ï¼Œä¸ 1 ç›¸ä¸çš„ç»“æœå°±æ˜¯ 0 ã€‚æ‰€ä»¥ cnt[0] å°±ä»£è¡¨ T å‡ºç°çš„æ¬¡æ•°ã€‚

åŒç† F çš„ ASCII å€¼ä¸º 70 ï¼ŒäºŒè¿›åˆ¶ä¸ºï¼š 1000110 ï¼Œå€’æ•°ç¬¬äºŒä½æ˜¯ 1 ï¼Œä¸ 1 ç›¸ä¸çš„ç»“æœå°±æ˜¯ 1 ï¼Œæ‰€ä»¥ cnt[1] å°±ä»£è¡¨ F å‡ºç°çš„æ¬¡æ•°ã€‚
