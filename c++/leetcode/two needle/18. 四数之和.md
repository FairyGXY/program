# [18. å››æ•°ä¹‹å’Œ](https://leetcode.cn/problems/4sum/description/)
ç»™ä½ ä¸€ä¸ªç”± n ä¸ªæ•´æ•°ç»„æˆçš„æ•°ç»„ nums ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ target ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ»¡è¶³ä¸‹è¿°å…¨éƒ¨æ¡ä»¶ä¸”ä¸é‡å¤çš„å››å…ƒç»„ [nums[a], nums[b], nums[c], nums[d]] ï¼ˆè‹¥ä¸¤ä¸ªå››å…ƒç»„å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªå››å…ƒç»„é‡å¤ï¼‰ï¼š

0 <= a, b, c, d < n

aã€bã€c å’Œ d äº’ä¸ç›¸åŒ

nums[a] + nums[b] + nums[c] + nums[d] == target

ä½ å¯ä»¥æŒ‰ ä»»æ„é¡ºåº è¿”å›ç­”æ¡ˆ ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [1,0,-1,0,-2,2], target = 0

è¾“å‡ºï¼š[[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]

ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [2,2,2,2,2], target = 8

è¾“å‡ºï¼š[[2,2,2,2]]
 

æç¤ºï¼š

1 <= nums.length <= 200  
-109 <= nums[i] <= 109  
-109 <= target <= 109

è¿™é“é¢˜æ˜¯çœ‹çµç¥[é¢˜è§£](https://leetcode.cn/problems/4sum/solutions/2344514/ji-zhi-you-hua-ji-yu-san-shu-zhi-he-de-z-1f0b)å†™å‡ºæ¥çš„ã€‚

è¿™é“é¢˜ç›®å’Œ ä¸‰æ•°ä¹‹å’Œ æ˜¯å¾ˆç±»ä¼¼çš„ï¼Œæ€è·¯å’Œä¸‰æ•°ä¹‹å’Œä¸€æ ·ã€‚å› ä¸ºè¦æ‰¾ ` nums[a] + nums[b] + nums[c] + nums[d] = target ` çš„å››ä¸ªæ•° nums[a], nums[b], nums[c], nums[d] å°±å¯ä»¥æšä¸¾ nums[a] å’Œ nums[b] ï¼Œ

ç„¶åç”¨åŒæŒ‡é’ˆå¯»æ‰¾æ»¡è¶³ ` nums[c] + nums[d] = target - (nums[a] + nums[b]) ` çš„å€¼ã€‚ä½†æ˜¯è‡ªå·±æ¥å†™æ€»ä¼šæœ‰é‡å¤çš„æ•°ç»„ï¼Œæ‰€ä»¥å»äº†çœ‹äº†é¢˜è§£ã€‚

è¿™æ˜¯ä»£ç ï¼š
```cpp
class Solution {
public:
    vector<vector<int>> fourSum(vector<int>& nums, int target) {
        vector<vector<int>> ans;
        if (nums.size() < 4) return ans;
        ranges::sort(nums);
        for(int i = 0; i < nums.size() - 3; i++) {
            long long x = nums[i];
            if(x + nums[nums.size() - 3] + nums[nums.size() - 2] + nums[nums.size() - 1] < target) continue;
            if(x + nums[i + 1] + nums[i + 2] + nums[i + 3] > target) break;
            if(i && x == nums[i - 1]) continue;

            for(int j = i + 1; j < nums.size() - 2; j++) {
                long long y = nums[j];
                if(j > i + 1 && y == nums[j - 1]) continue;
                if(x + y + nums[j + 1] + nums[j + 2] > target) break;
                if(x + y + nums[nums.size() - 2] + nums[nums.size() - 1] < target) continue;
                int left = j + 1;
                int right = nums.size() - 1;
                while(left < right) {
                    long long s = x + y + nums[left] + nums[right];
                    if(s < target) left++;
                    else if(s > target) right--;
                    else {
                        ans.push_back({(int) x, (int) y, nums[left], nums[right]});
                        for(left++; left < right && nums[left] == nums[left - 1]; left++);
                        for(right--; left < right && nums[right] == nums[right + 1]; right--);
                    }
                }
            }
        }
        return ans;
    }
};
```
è¿™é“é¢˜çš„å»é‡é€»è¾‘ä¹Ÿå’Œä¸‰æ•°ä¹‹å’Œç±»ä¼¼ï¼Œå› ä¸ºæœ‰ä¸¤å±‚ for å¾ªç¯ï¼Œ**æ‰€ä»¥è¦åˆ†åˆ«å¯¹å¤–å±‚ for å¾ªç¯å’Œå†…å±‚ for å¾ªç¯å»é‡**ã€‚

è¿™é‡Œä¸»è¦æ˜¯æ³¨æ„å†…å±‚ for å¾ªç¯ä¸­çš„ ` if(j > i + 1 && y == nums[j - 1]) continue; ` è¿™ä¸€æ®µä»£ç ï¼Œè¿™ä¸€æ®µä»£ç ä¸­ j > i + 1 è¿™ä¸ªæ¡ä»¶æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå¦‚æœæ²¡æœ‰è¿™ä¸ªæ¡ä»¶ï¼Œå°±ä¼šæœ‰é‡å¤çš„æ•°ç»„ã€‚ä»¥ç¤ºä¾‹äºŒä¸ºä¾‹å†™ä¸€ä¸‹å°±èƒ½ç›´è§‚çœ‹å‡ºæ¥ã€‚

è¿˜æœ‰å‘ç°ä¸ªæœ‰æ„æ€çš„äº‹æƒ…ï¼Œæˆ‘ä¸€å¼€å§‹å†™çš„ä»£ç å’Œçµç¥çš„ä»£ç åªæœ‰ä¸¤å¤„ä¸åŒï¼š

1.å››ä¸ªæ•°çš„ä¸‹æ ‡åç§°ä¸åŒ

2.çµç¥ä»£ç é‡Œé¢ç”¨ n æ¥è¡¨ç¤º nums.size() ï¼Œè€Œæˆ‘çš„ä»£ç é‡Œé¢ç›´æ¥ä½¿ç”¨çš„ nums.size() ã€‚

ç„¶åæäº¤å°±é€šè¿‡ä¸äº†ï¼ŒæŠ¥é”™ã€‚

æœ€åé—® AI ï¼Œ AI å‘Šè¯‰æˆ‘è¦åŠ ä¸€æ¡é€»è¾‘åˆ¤æ–­ï¼š ` if (nums.size() < 4) return ans; ` ï¼Œç›´æ¥å‚»çœ¼äº†ğŸ˜…ğŸ˜…ï¼Œå› ä¸ºæ²¡æœ‰çœ‹é¢˜ç›®çš„æç¤ºï¼š1 <= nums.length() ï¼Œ**ä½†æ˜¯**æˆ‘çœ‹çµç¥çš„ä»£ç ä¹Ÿæ²¡æœ‰åŠ è¿™ä¸€ä¸ªé€»è¾‘åˆ¤æ–­å•Šï¼Œä¸ºä»€ä¹ˆçµç¥å†™çš„å°±èƒ½é€šè¿‡ï¼Ÿ

æˆ‘åˆå»é—®äº† AI ï¼Œè¿™æ˜¯ AI çš„è§£é‡Šï¼š

![image](https://github.com/user-attachments/assets/2bce61e4-8531-4549-946f-27ee017344c3)

åªèƒ½è¯´ï¼Œä»¥åæˆ‘ä¸€å®šä¹Ÿè¦ç”¨ä¸€ä¸ªæ•°æ¥è¡¨ç¤ºæ•°ç»„çš„é•¿åº¦ã€‚

è¿˜æœ‰è¦æ³¨æ„çš„æ˜¯ï¼Œå››ä¸ªæ•°çš„å’Œå¯èƒ½ä¼š > int å‹çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥è¦ç”¨ long long ç±»å‹ã€‚
