# [740. åˆ é™¤å¹¶è·å¾—ç‚¹æ•°](https://leetcode.cn/problems/delete-and-earn/description/)
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œä½ å¯ä»¥å¯¹å®ƒè¿›è¡Œä¸€äº›æ“ä½œã€‚

æ¯æ¬¡æ“ä½œä¸­ï¼Œé€‰æ‹©ä»»æ„ä¸€ä¸ª nums[i] ï¼Œåˆ é™¤å®ƒå¹¶è·å¾— nums[i] çš„ç‚¹æ•°ã€‚ä¹‹åï¼Œä½ å¿…é¡»åˆ é™¤ æ‰€æœ‰ ç­‰äº nums[i] - 1 å’Œ nums[i] + 1 çš„å…ƒç´ ã€‚

å¼€å§‹ä½ æ‹¥æœ‰ 0 ä¸ªç‚¹æ•°ã€‚è¿”å›ä½ èƒ½é€šè¿‡è¿™äº›æ“ä½œè·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [3,4,2]  
è¾“å‡ºï¼š6  
è§£é‡Šï¼š  
åˆ é™¤ 4 è·å¾— 4 ä¸ªç‚¹æ•°ï¼Œå› æ­¤ 3 ä¹Ÿè¢«åˆ é™¤ã€‚  
ä¹‹åï¼Œåˆ é™¤ 2 è·å¾— 2 ä¸ªç‚¹æ•°ã€‚æ€»å…±è·å¾— 6 ä¸ªç‚¹æ•°ã€‚  
ç¤ºä¾‹ 2ï¼š  

è¾“å…¥ï¼šnums = [2,2,3,3,3,4]  
è¾“å‡ºï¼š9  
è§£é‡Šï¼š  
åˆ é™¤ 3 è·å¾— 3 ä¸ªç‚¹æ•°ï¼Œæ¥ç€è¦åˆ é™¤ä¸¤ä¸ª 2 å’Œ 4 ã€‚  
ä¹‹åï¼Œå†æ¬¡åˆ é™¤ 3 è·å¾— 3 ä¸ªç‚¹æ•°ï¼Œå†æ¬¡åˆ é™¤ 3 è·å¾— 3 ä¸ªç‚¹æ•°ã€‚  
æ€»å…±è·å¾— 9 ä¸ªç‚¹æ•°ã€‚  
 

æç¤ºï¼š

1 <= nums.length <= 2 * 104  
1 <= nums[i] <= 104

## Solution
è¿™é“é¢˜çš„æ€è·¯å’Œ[198.æ‰“å®¶åŠ«èˆ.md](./198.æ‰“å®¶åŠ«èˆ.md)ç›¸åŒ

æˆ‘æ˜¯è‚ºé›¾æˆ‘æƒ³ä¸å‡ºæ¥ğŸ¥²ï¼Œçœ‹çš„[é¢˜è§£](https://leetcode.cn/problems/delete-and-earn/solutions/2793281/ling-shen-ti-dan-da-qia-liao-zhi-jie-xia-c2ql)

ç”¨ä¸€ä¸ª sum æ•°ç»„æ¥ç»Ÿè®¡æ¯ä¸ªæ•°å­—çš„å’Œã€‚dfs(i) å°±ä»£è¡¨é€‰æ‹© i å¯ä»¥è·å¾—çš„æœ€å¤§ç‚¹æ•°ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±æ˜¯ ` dfs(i) = dfs(i - 1) + dfs(i - 2) + sum[i] ` ã€‚æ˜¯çš„ï¼Œå°±æ¯”æ‰“å®¶åŠ«èˆé‚£é“é¢˜å¤šäº†ä¸€æ­¥ï¼Œè¦è‡ªå·±æ±‚ sum æ•°ç»„ã€‚

1. é€’å½’ï¼š
```cpp
class Solution {
    int dfs(int i, int sum[]) {
        if(i == 0) {
            return sum[0];
        }
        if(i < 0) {
            return 0;
        }
        return max(dfs(i - 2, sum) + sum[i], dfs(i - 1, sum));
    }
public:
    int deleteAndEarn(vector<int>& nums) {
        int maxvalue = *max_element(nums.begin(), nums.end());
        int n = nums.size();
        int sum[10001]{0};
        for(int num : nums) {
            sum[num] += num;
        }
        return dfs(maxvalue, sum);
    }
};
```
2. é€’å½’ + è®°å¿†æœç´¢:
```cpp
class Solution {
    vector<int> memory;
    int dfs(int i, int sum[]) {
        if(i == 0) {
            return sum[0];
        }
        if(i < 0) {
            return 0;
        }
        if(memory[i]) {
            return memory[i];
        }
        return memory[i] = max(dfs(i - 2, sum) + sum[i], dfs(i - 1, sum));
    }
public:
    int deleteAndEarn(vector<int>& nums) {
        int maxvalue = *max_element(nums.begin(), nums.end());
        int n = nums.size();
        int sum[10001]{0};
        for(int num : nums) {
            sum[num] += num;
        }
        memory.assign(maxvalue + 1, 0);
        return dfs(maxvalue, sum);
    }
};
```
3. é€’æ¨:
```cpp
class Solution {
public:
    int deleteAndEarn(vector<int>& nums) {
        int n = nums.size();
        int sum[10001]{0};
        for(int num : nums) {
            sum[num] += num;
        }
        int max_value = *max_element(nums.begin(), nums.end());
        vector<int> f(max_value + 1);
        f[0] = sum[0];
        f[1] = max(sum[0], sum[1]);
        for(int i = 2; i <= max_value; i++) {
            f[i] = max(f[i - 1], f[i - 2] + sum[i]);
        }
        return f[max_value];
    }
};
```
4. é€’æ¨ + ç©ºé—´ä¼˜åŒ–:
```cpp
class Solution {
public:
    int deleteAndEarn(vector<int>& nums) {
        int n = nums.size();
        int sum[10001]{0};
        for(int num : nums) {
            sum[num] += num;
        }
        int max_value = *max_element(nums.begin(), nums.end());
        int f0 = sum[0];
        int f1 = max(sum[0], sum[1]);
        for(int i = 2; i <= max_value; i++) {
            int newf = max(f0 + sum[i], f1);
            f0 = f1;
            f1 = newf;
        }
        return f1;
    }
};
```
**æ³¨æ„**ç¬¬4. é€’æ¨ + ç©ºé—´ä¼˜åŒ– åªæ˜¯åœ¨ f æ•°ç»„çš„ç©ºé—´ä¼˜åŒ–äº†ï¼Œå› ä¸ºæœ‰ sum æ•°ç»„çš„å­˜åœ¨ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦è¿˜æ˜¯ O(n) ã€‚
## Konwledge
è¿™é‡Œä½¿ç”¨åˆ°äº†ä¸€ä¸ªæ ‡å‡†æ¨¡æ¿åº“å‡½æ•° max_element 

![image](https://github.com/user-attachments/assets/7f0c6257-b8f1-49ff-87eb-03f18602d48c)

ä»£ç ä¸­æˆ‘å°±ç”¨è¿™ä¸ªåº“å‡½æ•°æ¥æ‰¾åˆ° nums ä¸­çš„æœ€å¤§å€¼ max_value çš„ã€‚
